<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management System</title>
    <link rel="stylesheet" href="src/styles/style.css">
</head>
<body>
    <!-- Authentication Section -->
    <div id="auth-section" class="auth-container">
        <div class="auth-box">
            <h1>Task Management System</h1>
            
            <!-- Login Form -->
            <div id="login-form" class="form-container">
                <h2>Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="login-email">Email:</label>
                        <input type="email" id="login-email" required placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password:</label>
                        <input type="password" id="login-password" required placeholder="Enter your password">
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
                <p class="toggle-form">
                    Don't have an account? <a href="#" id="show-register">Register here</a>
                </p>
            </div>

            <!-- Register Form -->
            <div id="register-form" class="form-container" style="display: none;">
                <h2>Register</h2>
                <form id="registerForm">
                    <div class="form-group">
                        <label for="register-name">Name:</label>
                        <input type="text" id="register-name" required placeholder="Enter your name">
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email:</label>
                        <input type="email" id="register-email" required placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label for="register-password">Password:</label>
                        <input type="password" id="register-password" required placeholder="Enter your password (min 6 characters)">
                    </div>
                    <div class="form-group">
                        <label for="register-role">Role:</label>
                        <select id="register-role">
                            <option value="user">User</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
                <p class="toggle-form">
                    Already have an account? <a href="#" id="show-login">Login here</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Dashboard Section -->
    <div id="dashboard-section" class="dashboard-container" style="display: none;">
        <nav class="navbar">
            <div class="nav-content">
                <h1>Task Dashboard</h1>
                <div class="nav-right">
                    <span id="user-info"></span>
                    <button id="logout-btn" class="btn btn-secondary">Logout</button>
                </div>
            </div>
        </nav>

        <div class="main-content">
            <!-- Stats Section (Admin only) -->
            <div id="stats-section" style="display: none;">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Tasks</h3>
                        <p id="total-tasks" class="stat-number">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Pending</h3>
                        <p id="pending-tasks" class="stat-number">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>In Progress</h3>
                        <p id="in-progress-tasks" class="stat-number">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Completed</h3>
                        <p id="completed-tasks" class="stat-number">0</p>
                    </div>
                </div>
            </div>

            <!-- Task Creation -->
            <div class="task-creation">
                <h2>Create New Task</h2>
                <form id="createTaskForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-title">Title:</label>
                            <input type="text" id="task-title" required placeholder="Task title">
                        </div>
                        <div class="form-group">
                            <label for="task-priority">Priority:</label>
                            <select id="task-priority">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="task-description">Description:</label>
                        <textarea id="task-description" required placeholder="Task description" rows="3"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-status">Status:</label>
                            <select id="task-status">
                                <option value="pending" selected>Pending</option>
                                <option value="in-progress">In Progress</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="task-dueDate">Due Date:</label>
                            <input type="date" id="task-dueDate">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Create Task</button>
                </form>
            </div>

            <!-- Filters -->
            <div class="filters">
                <h3>Filter Tasks</h3>
                <div class="filter-controls">
                    <select id="filter-status">
                        <option value="">All Status</option>
                        <option value="pending">Pending</option>
                        <option value="in-progress">In Progress</option>
                        <option value="completed">Completed</option>
                    </select>
                    <select id="filter-priority">
                        <option value="">All Priorities</option>
                        <option value="low">Low</option>
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                    </select>
                    <button id="apply-filters" class="btn btn-secondary">Apply Filters</button>
                </div>
            </div>

            <!-- Tasks List -->
            <div class="tasks-section">
                <h2>Your Tasks</h2>
                <div id="tasks-list" class="tasks-grid">
                    <!-- Tasks will be loaded here -->
                </div>
                <div id="pagination" class="pagination"></div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container"></div>

    <!-- Scripts -->
    <script src="src/services/api.js"></script>
    <script src="src/utils/toast.js"></script>
    <script src="src/utils/auth.js"></script>
    <script src="src/components/taskCard.js"></script>
    <script src="src/pages/auth.js"></script>
    <script src="src/pages/dashboard.js"></script>
    <script src="src/utils/app.js"></script>
</body>
</html>